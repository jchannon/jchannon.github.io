<!doctype html>
<!-- Microdata markup added by Google Structured Data Markup Helper. -->
<!--[if lt IE 7 ]><html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]><html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><html lang="en" class="no-js"> <![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="last-modified" content="2014-05-08T09:17:26.1489878+01:00" />
    <meta name="google-site-verification" content="9bvoj2jXRyykef2Tg72C0Am15YBTqDF0RgeZ84tUytE" />
        <title>Jonathan Channon Blog</title>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700%7CCourgette' rel='stylesheet' type='text/css'>
    <link href="/css/style.css" media="screen" rel="stylesheet">
    <link href="/css/screen.css" media="screen" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="Jonathan Channon Blog" href="/feed.xml" />
</head>

<body>
<div itemscope itemtype="http://schema.org/Article" class="body_wrap">
    
    
    <div class="logo">
        <strong><a href="index.html">Blog</a></strong>
        <div class="logo_description">curated by Jonathan Channon</div>
    </div>
    
    <!-- header -->
    <div class="header">            
        <div class="header_inner">
            <!-- topmenu -->    
            <nav id="topmenu" class="clearfix">
                <ul class="dropdown">
                    <li class="menu-item-blue"><a href="/"><span>Home</span></a></li>
                    <li class="menu-item-green"><a href="/about"><span>About Me</span></a></li>               
                    <li class="menu-item-red"><a href="http://jonathanchannon.com"><span>Resume</span></a></li>
                    <li class="menu-item-pink"><a href="/archive"><span>Archive</span></a></li>
                    <li class="menu-item-purple"><a href="/contact"><span>Contact</span></a></li>
                </ul>
            
            <select id="topm-select" onChange="location = this.value">
                <option value="">Site Navigation</option>
                <option value="/">Home</option>
                <option value="/about">About Me</option>
                <option value="http://www.jonathanchannon.com">Resume</option>
                <option value="/archive">Archive</option>
                <option value="/contact">Contact</option>
            </select>
            </nav>    
            <!--/ topmenu -->

        </div>
    </div>
    <!--/ header -->    

    <!-- middle -->
    <div id="middle" class="full_width">
        <div class="container clearfix">                        
            <!-- content -->
            <div class="">
                  

    <div class="post-item boxed post-detail">
      <span class="post-label label-quotes"></span>           
      <div class="post-title">
        <h1><a href="/2013/09/12/keeping-sql-data-organised-in-integration-tests/">Keeping SQL Data Organised in Integration Tests</a></h1>
      </div>
      <div class="post-meta-top">
          <span class="post-date">September 12, 2013</span> <!-- <span class="post-author">Jonathan Channon</span> -->
          <!-- <span class="link-comments"></span> -->
          <div class="commentcount" data-disqus-url="http://blog.jonathanchannon.com/2013/09/12/keeping-sql-data-organised-in-integration-tests/"></div>
      </div>
      <!-- <div class="post-image"><img src="images/temp/slider_1_1.jpg" alt=""></div> -->
      <div class="post-descr entry">
          <p>In my latest project I had kept my solution tidy with my main app project, my unit test project and integration test project. I tend to stick with a naming convention such as MainApp, MainApp.Tests.Unit &amp; MainApp.Tests.Integration.</p>

<p>I had begun writing my integration tests for a repository that hits the database and returns data. Currently it was one method being called in the repository.  <a href="http://xunit.codeplex.com/">xUnit</a> allows you to setup any test dependencies in the constructor of your test class.  It also allows you to do any tidying up in a Dispose method if you implement IDisposable although this is <a href="http://xunit.codeplex.com/wikipage?title=Comparisons&amp;referringTitle=Home#note2">frowned upon</a>.  However I felt for my needs I would implement this.</p>

<p>I  was creating data in the database in the constructor which will get called before the test runs, retrieving data in the test, asserting and then deleting all data and resetting the auto-incrementing from the tables in the Dispose method.</p>

<p>This was working perfectly until I wanted to test another method on my repository.</p>

<p>I now needed to add data for my new method but realised if I added different data to the database in the constructor, I would be creating unnecessary data unrelated to the test.</p>

<p>My options were to move the constructor logic into separate methods and then call the methods in the test or have separate test classes per method in the repo.  Both were a not an ideal solution and quite frankly verbose, ugly and not best practice.

      </div>
      <p><a class="readmore" href="/2013/09/12/keeping-sql-data-organised-in-integration-tests/">Read more...</a></p>            
    </div>
    <div class="post-item boxed post-detail">
      <span class="post-label label-quotes"></span>           
      <div class="post-title">
        <h1><a href="/2013/09/11/comparing-object-instances-with-fakeiteasy/">Comparing object instances with FakeItEasy</a></h1>
      </div>
      <div class="post-meta-top">
          <span class="post-date">September 11, 2013</span> <!-- <span class="post-author">Jonathan Channon</span> -->
          <!-- <span class="link-comments"></span> -->
          <div class="commentcount" data-disqus-url="http://blog.jonathanchannon.com/2013/09/11/comparing-object-instances-with-fakeiteasy/"></div>
      </div>
      <!-- <div class="post-image"><img src="images/temp/slider_1_1.jpg" alt=""></div> -->
      <div class="post-descr entry">
          <p>I had the task of writing a new application recently and of course I chose <a href="http://nancyfx.org">Nancy</a>.  One of the many great reasons is the testing capabilites it offers (For more on that see <a href="http://www.marcusoft.net/2013/01/NancyTesting1.html">this</a> great series of articles).</p>

<p>The basics of a test with Nancy looks like this:</p>

<pre><code>[Fact]
public void Should_return_status_ok_when_route_exists()
{
    // Given
    var bootstrapper = new DefaultNancyBootstrapper();
    var browser = new Browser(bootstrapper);

    // When
    var result = browser.Get("/", with =&gt; {
        with.HttpRequest();
    });

    // Then
    Assert.Equal(HttpStatusCode.OK, result.StatusCode);
}
</code></pre>

<p>You set up a bootstrapper, this can be your live one or an inherited version of your live one with dependencies changed to mocks for example or use the <code>ConfigurableBootstrapper</code>.</p>


      </div>
      <p><a class="readmore" href="/2013/09/11/comparing-object-instances-with-fakeiteasy/">Read more...</a></p>            
    </div>
    <div class="post-item boxed post-detail">
      <span class="post-label label-quotes"></span>           
      <div class="post-title">
        <h1><a href="/2013/08/24/async-route-handling-with-nancy/">Async Route Handling with Nancy</a></h1>
      </div>
      <div class="post-meta-top">
          <span class="post-date">August 24, 2013</span> <!-- <span class="post-author">Jonathan Channon</span> -->
          <!-- <span class="link-comments"></span> -->
          <div class="commentcount" data-disqus-url="http://blog.jonathanchannon.com/2013/08/24/async-route-handling-with-nancy/"></div>
      </div>
      <!-- <div class="post-image"><img src="images/temp/slider_1_1.jpg" alt=""></div> -->
      <div class="post-descr entry">
          <p>I don't know about you but all I hear is "ASYNC ALL THE THINGS!", I think this is partly down to its new and shiny and us developers love "the shiny" and partly a lot of the things we do in our applications are I/O based whether that be database or file system. </p>

<p>The problem that comes with the new and shiny bandwagon is you need to understand what you're evangelising. Making asynchronous methods and executing them with no actual reason will not give your codebase any gains and could actually effect your application's performance.  There is more depth to that argument but for simplicity just remember this, only use asynchronous methods if you are doing some sort of I/O. </p>

<p>It could also be argued that only "use asynchronicity in a web framework if you expect high traffic in your web application". If you only have 10 requests on a small site you're not going to benefit from asynchronous execution as there are plenty of threads available to handle your application.  If you start hitting 1000 concurrent requests (the default IIS limit) then requests will start getting queued up.  If you make your routes asynchronous then any code that is being waited on, the thread that is being used there can be released to process another request thus speeding up the performance of your app and prevent the likely hood of large queues.  I will show how simple it is to make your routes asynchronous with Nancy below.</p>


      </div>
      <p><a class="readmore" href="/2013/08/24/async-route-handling-with-nancy/">Read more...</a></p>            
    </div>
    <div class="post-item boxed post-detail">
      <span class="post-label label-quotes"></span>           
      <div class="post-title">
        <h1><a href="/2013/08/22/a-quick-look-at-visual-node/">A quick look at Visual Node</a></h1>
      </div>
      <div class="post-meta-top">
          <span class="post-date">August 22, 2013</span> <!-- <span class="post-author">Jonathan Channon</span> -->
          <!-- <span class="link-comments"></span> -->
          <div class="commentcount" data-disqus-url="http://blog.jonathanchannon.com/2013/08/22/a-quick-look-at-visual-node/"></div>
      </div>
      <!-- <div class="post-image"><img src="images/temp/slider_1_1.jpg" alt=""></div> -->
      <div class="post-descr entry">
          <p>I came across <a href="http://www.visualnode.info/">Visual Node</a> a few months ago and was excited by the looks of it.  For those that didn't click that link, it basically brings the power of Visual Studio debugging to a node.js app.  You can write your node.js app in Visual Studio, fire up the debugger by hitting F5 and use breakpoints and watches to see what's going on.  </p>

<p>The hipster in me is screaming saying "You should be using Sublime Text and <a href="https://github.com/dannycoates/node-inspector">node-inspector</a> for debugging" but to be honest I found it a bit hackety-hack and it seemed a bit odd debugging my server app in Chrome but maybe that's just something I need to get over.  JavaScript is getting a huge surge in popularity recently so its your duty as a developer to investigate this.  I want to learn and understand JS better but I always get frustrated with it after 10mins and swear that I'm never going to touch a dynamic language again, "give me a statically typed language every time with a compiler".  I have a bit of a Jekyll and Hyde situation going on that I need to overcome.</p>


      </div>
      <p><a class="readmore" href="/2013/08/22/a-quick-look-at-visual-node/">Read more...</a></p>            
    </div>
    <div class="post-item boxed post-detail">
      <span class="post-label label-quotes"></span>           
      <div class="post-title">
        <h1><a href="/2013/07/03/modifying-files-within-git-history/">Modifying files within Git history</a></h1>
      </div>
      <div class="post-meta-top">
          <span class="post-date">July 03, 2013</span> <!-- <span class="post-author">Jonathan Channon</span> -->
          <!-- <span class="link-comments"></span> -->
          <div class="commentcount" data-disqus-url="http://blog.jonathanchannon.com/2013/07/03/modifying-files-within-git-history/"></div>
      </div>
      <!-- <div class="post-image"><img src="images/temp/slider_1_1.jpg" alt=""></div> -->
      <div class="post-descr entry">
          <p>If you have been doing code changes and committing as you go and then look back at the changes you may see something you don’t like the look of. Assuming no-one has a copy of your code changes you can go back and modify the files at a certain point in time within your commit history.</p>

<p>I use Git Bash by default but the editor sucks compared to Sublime Text so first things first lets setup the Git editor.</p>

<p>For Sublime Text run this in the command line:</p>

<pre><code>git config --global core.editor "'C:/Program Files/Sublime Text 2/sublime_text.exe'"
</code></pre>

<p>Next up is finding the commit id you want to go back to, to edit:</p>

<pre><code>git log
</code></pre>

<p>Make a note of the parent commit id of the commit you want to edit.</p>


      </div>
      <p><a class="readmore" href="/2013/07/03/modifying-files-within-git-history/">Read more...</a></p>            
    </div>
  <!-- Pagination links -->
  <div class="text-center">

        <a href="/page2">Previous Page</a> | 



      <a href="/page4">Next Page</a>

  </div>


            </div>
                <!-- #content -->
         </div>
    </div>
    <!--/ middle -->

    <!-- footer social -->
    <div class="footer_social">
        <div class="footer_social_inner">
            <div class="container">     
              <!-- <a href="post-details.html#" class="social-fb">Facebook</a> -->
                <a href="http://twitter.com/jchannon" class="social-twitter">Twitter</a>
                <a href="http://github.com/jchannon" class="social-github">Github</a>
                <a href="http://uk.linkedin.com/in/jonathanchannon/" class="social-linkedin">Linked In</a>
                <a href="/feed.xml" class="social-rss">RSS Feed</a>
            </div> 
        </div>
    </div>
    <!--/ footer social -->

    <div class="footer">
        <div class="container">
            <p class="copyright"><a href="https://github.com/Sandra/Sandra.Snow">Powered by Sandra.Snow</a></p>        
        </div> 
    </div>

    </div>
    
    <!-- main JS libs  -->
    <script src="/js/libs/modernizr.min.js"></script>
    <script src="/js/libs/respond.min.js"></script>                   
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <!-- scripts  -->
    <script src="/js/general.js"></script>
    <script src="/js/hoverIntent.js"></script>

    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        //prettyPrint();
      });
    </script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?skin=sons-of-obsidian"></script>
    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-7138405-4']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>
    
</body>
</html>
